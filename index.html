<!DOCTYPE html>
<html>
  <head>
    <title>Ruby</title>
    <style>
	    .div {
		    position: absolute;
		    width: 100%;
		    height: 100%;
		    background: green;
	    }
      
      .hud {
        position: absolute;
        left: 0px;
        right: 0px;
        bottom: 0px;
        top: 0px;
        margin: auto;
        width: 100%;
        height: 100%;
        background: rgba(55, 186, 195, 0.41);
        border-radius: 30px;
        border: 1px solid rgb(55, 186, 195);
      }
      .head {
	position: absolute;
	left: 0px;
	right: 0px;
	top: 0px;
	bottom: 0px;
	margin: auto;
        width: 100px;
        height: 120px;
        background: #ffeca8;
        border-radius: 100%;
      }
      .eye {
        position: relative;
        display: inline-block;
        border-radius: 50%;
        height: 30px;
        width: 30px;
        background: #CCC;
      }
      .container > #eyelash {
        width: 4px;
        height: 10px;
        background: black;
      }
      .eyelash1 {
        position: absolute;
        left: 3px;
        top: -7px;
        transform: rotate(-45deg);
      }
      .eyelash2 {
        position: absolute;
        left: 13px;
        top: -7px;
      }
      .eyelash3 {
        position: absolute;
        left: 23px;
        top: -7px;
        transform: rotate(45deg);
      }
      .eyelash4 {
        position: absolute;
        right: 3px;
        top: -7px;
        transform: rotate(45deg);
      }
      .eyelash5 {
        position: absolute;
        right: 13px;
        top: -7px;
      }
      .eyelash6 {
        position: absolute;
        right: 23px;
        top: -7px;
        transform: rotate(-45deg);
      }
      .eye:after { /*pupil*/
        position: absolute;
        bottom: 17px;
        right: 10px;
        width: 10px;
        height: 10px;
        background: #000;
        border-radius: 50%;
        content: " ";
      }
      .container {
	position: absolute;
        top: 0px;
        left: 0px;
        right: 0px;
        bottom: 30px;
        margin: auto;
        width: 64px;
        height: 30px;
      }
      .move-area {
        position: absolute;
        top: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div class="hud">
      <section class="move-area">
	      <div class="head">
		  <div class="container">
			  <div class="eyelash1" id="eyelash"></div><div class="eyelash2" id="eyelash"></div><div class="eyelash3" id="eyelash"></div>
			  <div class="eyelash4" id="eyelash"></div><div class="eyelash5" id="eyelash"></div><div class="eyelash6" id="eyelash"></div>
		    <div class="eye"></div>
		    <div class="eye"></div>
		  </div>
		      <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 511.995 511.995" style="enable-background:new 0 0 511.995 511.995;" xml:space="preserve">
<path style="fill:#6D4C41;" d="M467.741,227.71c-122.688,101.888-300.8,101.888-423.52,0
	C152.189,180.254,359.837,180.286,467.741,227.71z"/>
<path style="fill:#FAFAFA;" d="M399.997,174.078h-288c-8.832,0-16,9.088-16,17.92c0,26.464,21.536,48,48,48h224
	c26.464,0,48-21.536,48-48v-1.92C415.997,181.246,408.829,174.078,399.997,174.078z"/>
<path style="fill:#F44336;" d="M506.685,212.062L390.109,107.678c-19.36-17.056-46.24-27.68-70.112-27.68
	c-21.728,0-45.472,8.672-64,22.816c-18.528-14.144-42.304-22.816-64-22.816c-23.904,0-50.752,10.624-70.176,27.776L5.341,212.094
	c-4.352,3.872-6.208,9.76-4.96,15.424c27.072,120.384,132.192,204.48,255.616,204.48c123.392,0,228.544-84.096,255.616-204.48
	C512.861,221.854,511.005,215.966,506.685,212.062z M44.221,227.71c107.968-47.456,315.616-47.424,423.52,0
	C345.053,329.598,166.941,329.598,44.221,227.71z"/>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
</svg>

	      </div>
		</section>
    </div>
	  <div></div>
    <div id="audio"></div>
    <p>Please accept microphone usage and allow popups when the popup blocker box shows up in the url bar</p>
    <p><h3>List of commands:</h3>
      google *term<br>
      look up *website name<br>
      close tab (only works on recently opened tab that was opened with Ruby)<br>
      new tab<br>
      say *what she will repeat<br>
      ruby<br>
      why is this taking so long to load<br>
    </p>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/annyang/2.6.0/annyang.min.js"></script>
    <script src="./scripts/responsivevoice.js"></script>
    <script>
      
      responsiveVoice.speak("Hello. I am Ruby.", "US English Female", {pitch: 1});
      
      
      if (annyang) {
  // Let's define our first command. First the text we expect, and then the function it should call
        var child;
        
  var commands = {
    'google *term': function(term) {
      child = window.open('https://www.google.com/#q='+term);
    },
    
    'close tab': function() {
      child.close();
    },
    
    'cloze tab': function() {
      child.close();
    },
    
    'new tab': function() {
      child = window.open('https://www.google.com/');
    },
    
    'look up *web': function(web) {
      child = window.open('https://www.'+web);
    },
    
    'say *repeat': function(repeat) {
      responsiveVoice.speak(repeat, "US English Female", {pitch: 1});
    },
    
    'ruby': function() {
      responsiveVoice.speak("Yes?", "US English Female", {pitch: 1});
    },
    
    'why is this taking so long to load': function() {
      responsiveVoice.speak("Maybe you have too many tabs open or your internet is slow.", "US English Female", {pitch: 1});
    },
    
    'turn on light': function() {
      //open modified version of rpi light on/off webpage that closes itself after turning light on
    },
    
  };

  // Add our commands to annyang
  annyang.addCommands(commands);

  // Start listening. You can call this here, or attach this call to an event, button, etc.
  annyang.start();
};
    
    </script>
    <script>
            $(".move-area").mousemove(function(event) {
  var eye = $(".eye");
  var x = (eye.offset().left) + (eye.width() / 2);
  var y = (eye.offset().top) + (eye.height() / 2);
  var rad = Math.atan2(event.pageX - x, event.pageY - y);
  var rot = (rad * (180 / Math.PI) * -1) + 180;
  eye.css({
    '-webkit-transform': 'rotate(' + rot + 'deg)',
    '-moz-transform': 'rotate(' + rot + 'deg)',
    '-ms-transform': 'rotate(' + rot + 'deg)',
    'transform': 'rotate(' + rot + 'deg)'
  });
});
    </script>
  </body>
</html>
