<!DOCTYPE html>
<html>
  <head>
    <title>Ruby</title>
    <style>
      .div {
      	position: absolute;
      	width: 100%;
      	height: 100%;
      	background: green;
      }
    </style>
  </head>
  <body>
    <div id="audio"></div>
    <p>Please accept microphone usage and allow popups when the popup blocker box shows up in the url bar</p>
    <span id="timer"></span>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/annyang/2.6.0/annyang.min.js"></script>
    <script src="./scripts/responsivevoice.js"></script>
    <script>
      var one = 1;
      var two = 2;
      var three = 3;
      var four = 4;
      var five = 5;
      var six = 6;
      var seven = 7;
      var eight = 8;
      var nine = 9;
      var ten = 10;
      var eleven = 11;
      var twelve = 12;
      var thirteen = 13;
      var fourteen = 14;
      var fifteen = 15;
      var sixteen = 16;
      var seventeen = 17;
      var eighteen = 18;
      var nineteen = 19;
      var twenty = 20;
      
      
      
      var count=30;

var counter=setInterval(timer, 1000);
      
      responsiveVoice.speak("Hello. I am Ruby.", "US English Female", {pitch: 1});
      
      
      if (annyang) {
  // Let's define our first command. First the text we expect, and then the function it should call
        var child;
        
  var commands = {
    'google *term': function(term) {
      child = window.open('https://www.google.com/#q='+term);
    },
    
    'close tab': function() {
      child.close();
    },
    
    'cloze tab': function() {
      child.close();
    },
    
    'new tab': function() {
      child = window.open('https://www.google.com/');
    },
    
    'look up *web': function(web) {
      child = window.open('https://www.'+web);
    },
    
    'say *repeat': function(repeat) {
      responsiveVoice.speak(repeat, "US English Female", {pitch: 1});
    },
    
    'ruby': function() {
      responsiveVoice.speak("Yes?", "US English Female", {pitch: 1});
    },
    
    'why is this taking so long to load': function() {
      responsiveVoice.speak("Maybe you have too many tabs open or your internet is slow.", "US English Female", {pitch: 1});
    },
    
    'start timer *timer': function() {
      responsiveVoice.speak("Starting timer at" + timer, "US English Female", {pitch:1});
      if (timer = one) { timer = 1; };
      if (timer = two) { timer = 2; };
      if (timer = three) { timer = 3; };
      if (timer = four) { timer = 4; };
      if (timer = five) { timer = 5; };
      if (timer = six) { timer = 6; };
      if (timer = seven) { timer = 7; };
      if (timer = eight) { timer = 8; };
      if (timer = nine) { timer = 9; };
      if (timer = ten) { timer = 10; };
      if (timer = eleven) { timer = 11; };
      if (timer = twelve) { timer = 12; };
      if (timer = thirteen) { timer = 13; };
      if (timer = fourteen) { timer = 14; };
      if (timer = fifteen) { timer = 15; };
      if (timer = sixteen) { timer = 16; };
      if (timer = seventeen) { timer = 17; };
      if (timer = eighteen) { timer = 18; };
      if (timer = nineteen) { timer = 19; };
      if (timer = twenty) { timer = 20; };
      count = timer;
      timer();
    },
    
    'turn on light': function() {
      //open modified version of rpi light on/off webpage that closes itself after turning light on
    },
    
  };

  // Add our commands to annyang
  annyang.addCommands(commands);

  // Start listening. You can call this here, or attach this call to an event, button, etc.
  annyang.start();
};
      
      function timer()
{
  count=count-1;
  if (count <= 0)
  {
     clearInterval(counter);
     return;
  }

 document.getElementById("timer").innerHTML=count + " secs"; // watch for spelling
}
    </script>
  </body>
</html>
